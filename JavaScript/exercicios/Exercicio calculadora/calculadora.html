<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="estilo.css">
</head>

<body>
    <div class="layout">
        <div class="calculadora">
            <div id="res">
                <input type="text" id="display" disabled placeholder="...">
            </div>
            <table>
                <tr>
                    <td colspan="2"><button onclick="limpar()" class="botao-sup" id="btn-ac"
                            style="width: 106px;">AC</button></td>
                    <td><button onclick="adicionar('')" class="botao-sup">%</button></td>
                    <td><button onclick="adicionar('/')" class="botao-lat">รท</button></td>
                </tr>
                <tr>
                    <td><button onclick="adicionar('7')" class="botao">7</button></td>
                    <td><button onclick="adicionar('8')" class="botao">8</button></td>
                    <td><button onclick="adicionar('9')" class="botao">9</button></td>
                    <td><button onclick="adicionar('*')" class="botao-lat">x</button></td>
                </tr>
                <tr>
                    <td><button onclick="adicionar('4')" class="botao">4</button></td>
                    <td><button onclick="adicionar('5')" class="botao">5</button></td>
                    <td><button onclick="adicionar('6')" class="botao">6</button></td>
                    <td><button onclick="adicionar('-')" class="botao-lat">-</button></td>
                </tr>
                <tr>
                    <td><button onclick="adicionar('1')" class="botao">1</button></td>
                    <td><button onclick="adicionar('2')" class="botao">2</button></td>
                    <td><button onclick="adicionar('3')" class="botao">3</button></td>
                    <td><button onclick="adicionar('+')" class="botao-lat">+</button></td>
                </tr>
                <tr>
                    <td colspan="2"><button onclick="adicionar('0')" class="botao" id="btn-z"
                            style="width: 106px;">0</button></td>
                    <td><button onclick="adicionar(',')" class="botao">,</button></td>
                    <td><button onclick="calcular()" class="botao-lat">=</button></td>
                </tr>
            </table>
        </div>
    </div>
    <script>
        let valorTela = '';

        function adicionar(value) {
            if ((value === '*' || value === '/') && valorTela.endsWith(value)) {
                return;
            }

            valorTela += value;

            valorTela = valorTela.replace(/\*/g, 'x').replace(/\//g, 'รท');

            document.getElementById("display").value = valorTela;
        }

        function limpar() {
            valorTela = '';
            document.getElementById("display").value = valorTela;
        }

        function calcular() {
            valorTela = valorTela.replace(/x/g, '*').replace(/รท/g, '/');

            try {
                valorTela = eval(valorTela);
                document.getElementById("display").value = valorTela;
            } catch (error) {
                document.getElementById("display").value = 'Erro';
            }
        }

    </script>
</body>

</html>